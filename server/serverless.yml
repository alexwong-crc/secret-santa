# Name of lambda service
service: secret-santa

# Specifying specific version
# frameworkVersion: "=X.X.X"

# Runtime information
provider:
  name: aws
  runtime: python3.8
  region: eu-west-2

# Additional plugins
plugins:
  - serverless-domain-manager
  - serverless-python-requirements

# Custom settings
custom:
  customDomain:
    domainName: secret-santa.alexhomingwong.co.uk
    createRoute53Record: true
  # Not sure if below is needed for packaging python modules
  # pythonRequirements:
  #   dockerizePip: non-linux

# What files to include or exclude
package:
  exclude:
    - src/tests/*
    - keys.env

# Define lambda functions below
functions:
  randomiser: # Lambda name
    handler: src/randomise.random # Path to lambda function
    events: # Define how the lambda will be invoked
      - http:
          method: POST
          path: randomise
          cors: true
